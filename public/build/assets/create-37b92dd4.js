import{e as B,f as N,r as q,A as C,x as _,g as S,h as I,o as c,c as m,b as e,i as M,w as h,t as a,l as n,E as v,m as d,v as r,n as b,j as u,d as y,G as L,F as E,C as F,k as T,B as z,H as p,s as $,p as A,I as D,z as R,J as j}from"./main-84df2961.js";const G={class:"content"},H=["onSubmit"],J={class:"row"},O={class:"col-lg-3"},K={class:"fs-sm text-muted"},P={class:"col-lg-9"},Q={class:"row items-push"},W={class:"col-md-6"},X={class:"form-check form-block"},Y={class:"form-check-label",for:"type1"},Z={class:"d-block p-1 fw-normal text-center my-1"},x={class:"fs-4 fw-semibold"},ee={class:"col-md-6"},se={class:"form-check form-block"},te={class:"form-check-label",for:"type2"},oe={class:"d-block p-1 fw-normal text-center my-1"},le={class:"fs-4 fw-semibold"},ae={key:0,class:"form-floating mb-4"},ne=["placeholder"],ie={key:0,class:"invalid-feedback animated fadeIn"},de={for:"val-name"},re=e("span",{class:"text-danger"},"*",-1),ce={key:1,class:"row g-3"},me={class:"form-floating col-4 mb-4"},ue=["placeholder"],pe={for:"val-first-name"},fe={class:"form-floating col-4 mb-4"},_e=["placeholder"],he={key:0,class:"invalid-feedback animated fadeIn"},ve={for:"val-last-name"},be=e("span",{class:"text-danger"},"*",-1),ye={class:"form-floating col-4 mb-4"},$e=["placeholder"],ge={for:"val-middle-name"},we={class:"form-floating mb-4"},ke=["placeholder"],Ve={for:"val-email"},Ue={class:"row g-3"},Be={class:"form-floating col-6 mb-4"},Ne=["placeholder"],qe={for:"val-phone-name"},Ce={class:"form-floating col-6 mb-4"},Se=["placeholder"],Ie={for:"val-website"},Me={class:"form-floating mb-4"},Le=["placeholder"],Ee={for:"val-email"},Fe=e("hr",null,null,-1),Te={class:"row"},ze={class:"col-lg-3"},Ae={class:"fs-sm text-muted"},De={class:"col-lg-9"},Re={class:"form-floating mb-4"},je=["placeholder"],Ge={for:"val-billing-address"},He={class:"row g-3"},Je={class:"form-floating col-6 mb-4"},Oe=["placeholder"],Ke={for:"val-city"},Pe={class:"form-floating col-6 mb-4"},Qe=["placeholder"],We={for:"val-post-code"},Xe={class:"row g-3"},Ye={class:"form-floating col-6 mb-4"},Ze={selected:""},xe=["value"],es={for:"example-select-floating"},ss=e("hr",null,null,-1),ts={type:"submit",class:"btn btn-lg btn-primary mb-3"},as={__name:"create",setup(os){const g=j({}),w=z();B();const o=N({type:1,name:null,email:null,first_name:null,last_name:null,middle_name:null,phone_number:null,website:null,is_same_address:!0,contacts:[]}),f=q();C(async()=>{let l=await _.get("/countries");f.value=l.data.countries});const k=S(()=>({name:{required:p(function(){return o.type==1}),minLength:$(3)},last_name:{required:p(function(){return o.type==2}),minLength:$(3)},type:{required:A},contacts:{$each:D.forEach({last_name:{required:p(function(){return o.contacts.length>0})}})}})),i=I(k,o);async function V(){await i.value.$validate()&&_.post("/customers",o).then(s=>{g.success(s.data.message),w.push("/admin/customers")})}return(l,s)=>{const U=R("BaseBlock");return c(),m("div",G,[e("form",{onSubmit:T(V,["prevent"])},[M(U,{title:l.$t("customers.newTitle"),"content-full":""},{footer:h(()=>[e("button",ts,a(l.$t("common.save")),1)]),default:h(()=>[e("div",J,[e("div",O,[e("p",K,a(l.$t("customers.overview")),1)]),e("div",P,[e("div",Q,[e("div",W,[e("div",X,[n(e("input",{type:"radio",class:"form-check-input",id:"type1",name:"type",value:"1","onUpdate:modelValue":s[0]||(s[0]=t=>o.type=t),onBlur:s[1]||(s[1]=(...t)=>d(i).type.$touch&&d(i).type.$touch(...t))},null,544),[[v,o.type]]),e("label",Y,[e("span",Z,[e("span",x,a(l.$t("customers.types.company")),1)])])])]),e("div",ee,[e("div",se,[n(e("input",{type:"radio",class:"form-check-input",id:"type2",name:"type",value:"2","onUpdate:modelValue":s[2]||(s[2]=t=>o.type=t),onBlur:s[3]||(s[3]=(...t)=>d(i).type.$touch&&d(i).type.$touch(...t))},null,544),[[v,o.type]]),e("label",te,[e("span",oe,[e("span",le,a(l.$t("customers.types.individual")),1)])])])])]),o.type==1?(c(),m("div",ae,[n(e("input",{type:"text",id:"val-name",class:b(["form-control",{"is-invalid":d(i).name.$errors.length}]),"onUpdate:modelValue":s[4]||(s[4]=t=>o.name=t),onBlur:s[5]||(s[5]=(...t)=>d(i).name.$touch&&d(i).name.$touch(...t)),placeholder:l.$t("customers.fields.companyName")},null,42,ne),[[r,o.name]]),d(i).name.$errors.length?(c(),m("div",ie,a(l.$t("validation.required")),1)):u("",!0),e("label",de,[y(a(l.$t("customers.fields.companyName"))+" ",1),re])])):u("",!0),o.type==2?(c(),m("div",ce,[e("div",me,[n(e("input",{type:"text",id:"val-first-name",class:"form-control","onUpdate:modelValue":s[6]||(s[6]=t=>o.first_name=t),placeholder:l.$t("customers.fields.firstName")},null,8,ue),[[r,o.first_name]]),e("label",pe,a(l.$t("customers.fields.firstName")),1)]),e("div",fe,[n(e("input",{type:"text",id:"val-first-name",class:b(["form-control",{"is-invalid":d(i).last_name.$errors.length}]),"onUpdate:modelValue":s[7]||(s[7]=t=>o.last_name=t),onBlur:s[8]||(s[8]=(...t)=>d(i).last_name.$touch&&d(i).last_name.$touch(...t)),placeholder:l.$t("customers.fields.lastName")},null,42,_e),[[r,o.last_name]]),d(i).last_name.$errors.length?(c(),m("div",he,a(l.$t("validation.required")),1)):u("",!0),e("label",ve,[y(a(l.$t("customers.fields.lastName"))+" ",1),be])]),e("div",ye,[n(e("input",{type:"text",id:"val-middle-name",class:"form-control","onUpdate:modelValue":s[9]||(s[9]=t=>o.middle_name=t),placeholder:l.$t("customers.fields.middleName")},null,8,$e),[[r,o.middle_name]]),e("label",ge,a(l.$t("customers.fields.middleName")),1)])])):u("",!0),e("div",we,[n(e("input",{type:"text",id:"val-email",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=t=>o.email=t),placeholder:l.$t("customers.fields.email")},null,8,ke),[[r,o.email]]),e("label",Ve,a(l.$t("customers.fields.email")),1)]),e("div",Ue,[e("div",Be,[n(e("input",{type:"text",id:"val-phone-name",class:"form-control","onUpdate:modelValue":s[11]||(s[11]=t=>o.phone=t),placeholder:l.$t("customers.fields.phone")},null,8,Ne),[[r,o.phone]]),e("label",qe,a(l.$t("customers.fields.phone")),1)]),e("div",Ce,[n(e("input",{type:"text",id:"val-website",class:"form-control","onUpdate:modelValue":s[12]||(s[12]=t=>o.website=t),placeholder:l.$t("customers.fields.website")},null,8,Se),[[r,o.website]]),e("label",Ie,a(l.$t("customers.fields.website")),1)])]),e("div",Me,[n(e("input",{type:"text",id:"val-ice",class:"form-control","onUpdate:modelValue":s[13]||(s[13]=t=>o.ice=t),placeholder:l.$t("customers.fields.nif")},null,8,Le),[[r,o.ice]]),e("label",Ee,a(l.$t("customers.fields.nif")),1)])])]),Fe,e("div",Te,[e("div",ze,[e("p",Ae,a(l.$t("customers.addressSection")),1)]),e("div",De,[e("div",Re,[n(e("input",{type:"text",id:"val-billing-address",class:"form-control","onUpdate:modelValue":s[14]||(s[14]=t=>o.address_billing=t),placeholder:l.$t("customers.fields.address")},null,8,je),[[r,o.address_billing]]),e("label",Ge,a(l.$t("customers.fields.address")),1)]),e("div",He,[e("div",Je,[n(e("input",{type:"text",id:"val-city",class:"form-control","onUpdate:modelValue":s[15]||(s[15]=t=>o.city=t),placeholder:l.$t("customers.fields.city")},null,8,Oe),[[r,o.city]]),e("label",Ke,a(l.$t("customers.fields.city")),1)]),e("div",Pe,[n(e("input",{type:"text",id:"val-post-code",class:"form-control","onUpdate:modelValue":s[16]||(s[16]=t=>o.post_code=t),placeholder:l.$t("customers.fields.postalCode")},null,8,Qe),[[r,o.post_code]]),e("label",We,a(l.$t("customers.fields.postalCode")),1)])]),e("div",Xe,[e("div",Ye,[n(e("select",{class:"form-select",id:"example-select-floating",name:"example-select-floating","onUpdate:modelValue":s[17]||(s[17]=t=>o.billing_country_id=t),"aria-label":"Floating label select example"},[e("option",Ze,a(l.$t("common.selectOption")),1),(c(!0),m(E,null,F(f.value,t=>(c(),m("option",{value:t.id},a(t.name),9,xe))),256))],512),[[L,o.billing_country_id]]),e("label",es,a(l.$t("customers.fields.country")),1)])])])]),ss]),_:1},8,["title"])],40,H)])}}};export{as as default};
