import{r as m,y as B,s as p,f as N,g as C,o as d,c as r,b as e,h as q,w as h,k as s,C as b,l as n,v as i,n as g,i as c,D as S,F as I,A as D,j as E,d as x,I as F,E as v,q as y,m as M,G as L,p as A,x as R,t as P,H as T}from"./main-e01f9188.js";const G={class:"content"},j=["onSubmit"],z={class:"row"},H=e("div",{class:"col-lg-3"},[e("p",{class:"fs-sm text-muted"}," Descripción general ")],-1),W={class:"col-lg-9"},J={class:"row items-push"},K={class:"col-md-6"},O={class:"form-check form-block"},Q=e("label",{class:"form-check-label",for:"type1"},[e("span",{class:"d-block p-1 fw-normal text-center my-1"},[e("span",{class:"fs-4 fw-semibold"},"Empresa")])],-1),X={class:"col-md-6"},Y={class:"form-check form-block"},Z=e("label",{class:"form-check-label",for:"type2"},[e("span",{class:"d-block p-1 fw-normal text-center my-1"},[e("span",{class:"fs-4 fw-semibold"},"Individual")])],-1),ee={key:0,class:"form-floating mb-4"},te={key:0,class:"invalid-feedback animated fadeIn"},le=e("label",{for:"val-name"},[x("Nombre de empresa"),e("span",{class:"text-danger"},"*")],-1),oe={key:1,class:"row g-3"},se={class:"form-floating col-4 mb-4"},ae=e("label",{for:"val-first-name"},"Nombre",-1),ne={class:"form-floating col-4 mb-4"},ie={key:0,class:"invalid-feedback animated fadeIn"},de=e("label",{for:"val-last-name"},[x("Apellido"),e("span",{class:"text-danger"},"*")],-1),re={class:"form-floating col-4 mb-4"},ce=e("label",{for:"val-middle-name"},"Segundo nombre",-1),ue={class:"form-floating mb-4"},me=e("label",{for:"val-email"},"Correo electrónico",-1),pe={class:"row g-3"},ve={class:"form-floating col-6 mb-4"},fe=e("label",{for:"val-phone-name"},"Teléfono",-1),_e={class:"form-floating col-6 mb-4"},he=e("label",{for:"val-website"},"Sitio web",-1),be={class:"form-floating mb-4"},ge=e("label",{for:"val-email"},"NIF",-1),ye=e("hr",null,null,-1),xe={class:"row"},we=e("div",{class:"col-lg-3"},[e("p",{class:"fs-sm text-muted"}," Dirección ")],-1),ke={class:"col-lg-9"},Ve={class:"form-floating mb-4"},$e=e("label",{for:"val-billing-address"},"Dirección",-1),Ue={class:"row g-3"},Be={class:"form-floating col-6 mb-4"},Ne=e("label",{for:"val-city"},"Ciudad",-1),Ce={class:"form-floating col-6 mb-4"},qe=e("label",{for:"val-post-code"},"Código postal",-1),Se={class:"row g-3"},Ie={class:"form-floating col-6 mb-4"},De=e("option",{selected:""},"Seleccione una opción",-1),Ee=["value"],Fe=e("label",{for:"example-select-floating"},"País",-1),Me=e("hr",null,null,-1),Le=e("button",{type:"submit",class:"btn btn-lg btn-primary mb-3"},"Guardar",-1),Pe={__name:"edit",setup(Ae){const w=T({}),l=m({}),f=m(),_=F(),k=m(_.params.id);B(async()=>{let u=await p.get("/customers/"+k.value+"/edit");l.value=u.data.customer,l.value.is_same_address=l.value.is_same_address==1;let t=await p.get("/countries");f.value=t.data.countries});const V=N(()=>({name:{required:v(function(){return l.value.type==1}),minLength:y(3)},last_name:{required:v(function(){return l.value.type==2}),minLength:y(3)},type:{required:M},contacts:{$each:L.forEach({last_name:{required:v(function(){return l.value.contacts.length>0})},email:{email:A}})}})),a=C(V,l);async function $(){await a.value.$validate()&&p.post("/customers/"+l.value.uuid,l.value,{params:{_method:"put"}}).then(t=>{w.success(t.data.message),_.push("/admin/customers")})}return(u,t)=>{const U=R("BaseBlock");return d(),r("div",G,[e("form",{onSubmit:E($,["prevent"])},[q(U,{title:"Editar cliente","content-full":""},{footer:h(()=>[Le]),default:h(()=>[e("div",z,[H,e("div",W,[e("div",J,[e("div",K,[e("div",O,[s(e("input",{type:"radio",class:"form-check-input",id:"type1",name:"type",value:"1","onUpdate:modelValue":t[0]||(t[0]=o=>l.value.type=o),onBlur:t[1]||(t[1]=(...o)=>n(a).type.$touch&&n(a).type.$touch(...o))},null,544),[[b,l.value.type]]),Q])]),e("div",X,[e("div",Y,[s(e("input",{type:"radio",class:"form-check-input",id:"type2",name:"type",value:"2","onUpdate:modelValue":t[2]||(t[2]=o=>l.value.type=o),onBlur:t[3]||(t[3]=(...o)=>n(a).type.$touch&&n(a).type.$touch(...o))},null,544),[[b,l.value.type]]),Z])])]),l.value.type==1?(d(),r("div",ee,[s(e("input",{type:"text",id:"val-name",class:g(["form-control",{"is-invalid":n(a).name.$errors.length}]),"onUpdate:modelValue":t[4]||(t[4]=o=>l.value.name=o),onBlur:t[5]||(t[5]=(...o)=>n(a).name.$touch&&n(a).name.$touch(...o)),placeholder:"Company Name"},null,34),[[i,l.value.name]]),n(a).name.$errors.length?(d(),r("div",te," Requerida ")):c("",!0),le])):c("",!0),l.value.type==2?(d(),r("div",oe,[e("div",se,[s(e("input",{type:"text",id:"val-first-name",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=o=>l.value.first_name=o),placeholder:"First Name"},null,512),[[i,l.value.first_name]]),ae]),e("div",ne,[s(e("input",{type:"text",id:"val-first-name",class:g(["form-control",{"is-invalid":n(a).last_name.$errors.length}]),"onUpdate:modelValue":t[7]||(t[7]=o=>l.value.last_name=o),onBlur:t[8]||(t[8]=(...o)=>n(a).last_name.$touch&&n(a).last_name.$touch(...o)),placeholder:"Last Name"},null,34),[[i,l.value.last_name]]),n(a).name.$errors.length?(d(),r("div",ie," Requerida ")):c("",!0),de]),e("div",re,[s(e("input",{type:"text",id:"val-middle-name",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=o=>l.value.middle_name=o),placeholder:"Middle Name"},null,512),[[i,l.value.middle_name]]),ce])])):c("",!0),e("div",ue,[s(e("input",{type:"text",id:"val-email",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=o=>l.value.email=o),placeholder:"Email"},null,512),[[i,l.value.email]]),me]),e("div",pe,[e("div",ve,[s(e("input",{type:"text",id:"val-phone-name",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=o=>l.value.phone=o),placeholder:"Phone"},null,512),[[i,l.value.phone]]),fe]),e("div",_e,[s(e("input",{type:"text",id:"val-website",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=o=>l.value.website=o),placeholder:"Website"},null,512),[[i,l.value.website]]),he])]),e("div",be,[s(e("input",{type:"text",id:"val-nif",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=o=>l.value.ice=o),placeholder:"NIF"},null,512),[[i,l.value.ice]]),ge])])]),ye,e("div",xe,[we,e("div",ke,[e("div",Ve,[s(e("input",{type:"text",id:"val-billing-address",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=o=>l.value.address_billing=o),placeholder:"Billing Address"},null,512),[[i,l.value.address_billing]]),$e]),e("div",Ue,[e("div",Be,[s(e("input",{type:"text",id:"val-city",class:"form-control","onUpdate:modelValue":t[15]||(t[15]=o=>l.value.city=o),placeholder:"City"},null,512),[[i,l.value.city]]),Ne]),e("div",Ce,[s(e("input",{type:"text",id:"val-post-code",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=o=>l.value.post_code=o),placeholder:"Post Code"},null,512),[[i,l.value.post_code]]),qe])]),e("div",Se,[e("div",Ie,[s(e("select",{class:"form-select",id:"example-select-floating",name:"example-select-floating","onUpdate:modelValue":t[17]||(t[17]=o=>l.value.billing_country_id=o),"aria-label":"Floating label select example"},[De,(d(!0),r(I,null,D(f.value,o=>(d(),r("option",{value:o.id},P(o.name),9,Ee))),256))],512),[[S,l.value.billing_country_id]]),Fe])])])]),Me]),_:1})],40,j)])}}};export{Pe as default};
