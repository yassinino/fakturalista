import{r as v,e as w,A as g,x as _,o as i,c as r,i as c,w as d,b as e,d as u,t as s,F as y,C as $,z as m,l as C,D as B,k as x}from"./main-84df2961.js";const V={class:"content"},D={class:"block-options-item"},N={class:"table table-vcenter"},M={class:"text-center"},T={class:"d-none d-sm-table-cell"},A={class:"d-none d-sm-table-cell"},F={class:"d-none d-sm-table-cell"},U={class:"d-none d-sm-table-cell"},j={class:"d-none d-sm-table-cell"},z={class:"text-center",style:{width:"100px"}},E={class:"text-center",scope:"row"},I=["onUpdate:modelValue"],L={class:"d-none d-sm-table-cell"},S={class:"d-none d-sm-table-cell"},q={class:"d-none d-sm-table-cell"},G={class:"d-none d-sm-table-cell"},H={class:"d-none d-sm-table-cell"},J={class:"text-center"},K={class:"dropdown dropstart push"},O=e("button",{type:"button",class:"btn btn-outline-primary dropdown-toggle",id:"dropdown-dropleft-dark","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("i",{class:"fa fa-fw fa-ellipsis-v"})],-1),P={class:"dropdown-menu fs-sm","aria-labelledby":"dropdown-dropleft-dark"},Q=["onClick"],X={__name:"index",setup(R){const n=v([]),{t:p}=w();g(async()=>{let t=await _.get("/customers");n.value=t.data.customers});const b=t=>{confirm(p("customers.confirmDelete"))&&_.delete("/customers/"+t.uuid).then(l=>{n.value=n.value.filter(a=>a.uuid!==t.uuid)}).catch(l=>{console.error("There was an error!",l)})},f=t=>{n.value=n.value.map(l=>(l.checked=t,l))};return(t,l)=>{const a=m("router-link"),k=m("BaseBlock");return i(),r("div",V,[c(k,{title:t.$t("customers.title")},{options:d(()=>[e("div",D,[c(a,{to:"customers/new",class:"btn btn-primary"},{default:d(()=>[u(s(t.$t("customers.newTitle")),1)]),_:1})])]),default:d(()=>[e("table",N,[e("thead",null,[e("tr",null,[e("th",M,[e("input",{type:"checkbox",class:"form-check-input",onChange:f},null,32)]),e("th",T,s(t.$t("customers.table.name")),1),e("th",A,s(t.$t("customers.table.address")),1),e("th",F,s(t.$t("customers.table.email")),1),e("th",U,s(t.$t("customers.table.phone")),1),e("th",j,s(t.$t("customers.table.customerNumber")),1),e("th",z,s(t.$t("common.actions")),1)])]),e("tbody",null,[(i(!0),r(y,null,$(n.value,o=>(i(),r("tr",{key:o.id},[e("th",E,[C(e("input",{type:"checkbox",name:"",class:"form-check-input","onUpdate:modelValue":h=>o.checked=h},null,8,I),[[B,o.checked]])]),e("td",L,[c(a,{to:"customers/"+o.uuid},{default:d(()=>[u(s(o.name),1)]),_:2},1032,["to"])]),e("td",S,s(o.address_billing),1),e("td",q,s(o.email),1),e("td",G,s(o.phone),1),e("td",H,s(o.reference),1),e("td",J,[e("div",K,[O,e("div",P,[c(a,{class:"dropdown-item danger",to:"customers/edit/"+o.uuid},{default:d(()=>[u(s(t.$t("common.edit")),1)]),_:2},1032,["to"]),e("a",{class:"dropdown-item danger",href:"javascript:void(0)",onClick:x(h=>b(o),["prevent"])},s(t.$t("common.delete")),9,Q)])])])]))),128))])])]),_:1},8,["title"])])}}};export{X as default};
