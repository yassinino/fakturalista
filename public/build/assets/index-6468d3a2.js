import{r as v,e as w,A as $,x as _,o as c,c as r,i as d,w as i,b as e,d as m,t as s,F as g,C as y,z as p,l as C,D as B,k as V}from"./main-fd6829f8.js";const x={class:"content"},D={class:"block-options-item"},M={class:"table table-vcenter"},N={class:"text-center"},P={class:"d-none d-sm-table-cell"},T={class:"d-none d-sm-table-cell"},A={class:"d-none d-sm-table-cell"},F={class:"d-none d-sm-table-cell"},U={class:"d-none d-sm-table-cell"},j={class:"text-center",style:{width:"100px"}},z={class:"text-center",scope:"row"},E=["onUpdate:modelValue"],I={class:"d-none d-sm-table-cell"},L={class:"d-none d-sm-table-cell"},S={class:"d-none d-sm-table-cell"},q={class:"d-none d-sm-table-cell"},G={class:"d-none d-sm-table-cell"},H={class:"text-center"},J={class:"dropdown dropstart push"},K=e("button",{type:"button",class:"btn btn-outline-primary dropdown-toggle",id:"dropdown-dropleft-dark","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("i",{class:"fa fa-fw fa-ellipsis-v"})],-1),O={class:"dropdown-menu fs-sm","aria-labelledby":"dropdown-dropleft-dark"},Q=["onClick"],X={__name:"index",setup(R){const n=v([]),{t:u}=w();$(async()=>{let t=await _.get("/items");n.value=t.data.items});const f=t=>{confirm(u("items.confirmDelete"))&&_.delete("/items/"+t.uuid).then(l=>{n.value=n.value.filter(a=>a.uuid!==t.uuid)}).catch(l=>{console.error("There was an error deleting the item!",l)})},b=t=>{n.value=n.value.map(l=>(l.checked=t,l))};return(t,l)=>{const a=p("router-link"),k=p("BaseBlock");return c(),r("div",x,[d(k,{title:t.$t("items.title")},{options:i(()=>[e("div",D,[d(a,{to:"items/new",class:"btn btn-primary"},{default:i(()=>[m(s(t.$t("items.newTitle")),1)]),_:1})])]),default:i(()=>[e("table",M,[e("thead",null,[e("tr",null,[e("th",N,[e("input",{type:"checkbox",class:"form-check-input",onChange:b},null,32)]),e("th",P,s(t.$t("items.fields.name")),1),e("th",T,s(t.$t("items.fields.description")),1),e("th",A,s(t.$t("items.fields.reference")),1),e("th",F,s(t.$t("items.fields.salesPrice")),1),e("th",U,s(t.$t("items.fields.purchasePrice")),1),e("th",j,s(t.$t("common.actions")),1)])]),e("tbody",null,[(c(!0),r(g,null,y(n.value,o=>(c(),r("tr",{key:o.id},[e("th",z,[C(e("input",{type:"checkbox",name:"",class:"form-check-input","onUpdate:modelValue":h=>o.checked=h},null,8,E),[[B,o.checked]])]),e("td",I,[d(a,{to:"items/edit/"+o.uuid},{default:i(()=>[m(s(o.name),1)]),_:2},1032,["to"])]),e("td",L,s(o.description),1),e("td",S,s(o.reference),1),e("td",q,s(t.$toComma(o.sales_price)),1),e("td",G,s(t.$toComma(o.purchase_price)),1),e("td",H,[e("div",J,[K,e("div",O,[d(a,{class:"dropdown-item danger",to:"items/edit/"+o.uuid},{default:i(()=>[m(s(t.$t("common.edit")),1)]),_:2},1032,["to"]),e("a",{class:"dropdown-item danger",href:"javascript:void(0)",onClick:V(h=>f(o),["prevent"])},s(t.$t("common.delete")),9,Q)])])])]))),128))])])]),_:1},8,["title"])])}}};export{X as default};
