import{r as b,f as X,A as G,o as i,c as n,d as N,b as e,i as W,w as y,F as H,C as J,k as Q,M as k,l as v,v as m,n as _,t as u,j as d,x as L,P as Z,z as K,J as ee}from"./main-fd6829f8.js";const se={class:"content content-boxed"},te={key:0,class:"text-center py-5"},le=e("i",{class:"fa fa-spinner fa-spin me-2"},null,-1),oe={key:1,class:"row g-4"},ae={class:"col-lg-3"},ie={class:"list-group list-group-flush"},ne=["onClick"],de={class:"col-lg-9"},ce=["onSubmit"],re={class:"row push content"},ue=e("div",{class:"col-lg-4"},[e("p",{class:"fs-sm text-muted"}," Define el nombre legal, comercial y país de registro de tu empresa. ")],-1),_e={class:"col-lg-8 col-xl-8"},ve={class:"mb-4"},me=e("label",{class:"form-label",for:"legal_name"},"Nombre legal",-1),be=["disabled"],fe={key:0,class:"invalid-feedback"},pe={class:"mb-4"},he=e("label",{class:"form-label",for:"trade_name"},"Nombre comercial",-1),ye=["disabled"],ge={key:0,class:"invalid-feedback"},xe={class:"row mb-2"},ke={class:"col-12 col-md-6 mb-4 mb-md-0"},we=e("label",{class:"form-label",for:"industry"},"Industria",-1),Ce=["disabled"],Ue={key:0,class:"invalid-feedback"},Ve={class:"col-12 col-md-6"},Se=e("label",{class:"form-label",for:"country_code"},"Código país (ISO2)",-1),je=["disabled"],Be={key:0,class:"invalid-feedback"},Ee={class:"row push content"},Fe=e("div",{class:"col-lg-4"},[e("p",{class:"fs-sm text-muted"}," Identificadores legales y de impuestos (NIF, VAT, registro mercantil). ")],-1),Ne={class:"col-lg-8 col-xl-8"},Ie={class:"row"},Pe={class:"col-12 col-md-12 mb-4"},Re=e("label",{class:"form-label",for:"tax_id"},"NIF / CIF / ICE",-1),Me=["disabled"],De={key:0,class:"invalid-feedback"},Te={class:"col-12 col-md-12 mb-4"},Le=e("label",{class:"form-label",for:"vat_number"},"Número VAT",-1),ze=["disabled"],Ye={key:0,class:"invalid-feedback"},Oe={class:"col-12 mb-2"},Ae=e("label",{class:"form-label",for:"registration_number"},"Registro mercantil",-1),qe=["disabled"],$e={key:0,class:"invalid-feedback"},Xe={class:"row push content"},Ge=e("div",{class:"col-lg-4"},[e("p",{class:"fs-sm text-muted"}," Datos de contacto y ubicación fiscal/postal. ")],-1),We={class:"col-lg-8 col-xl-8"},He={class:"row"},Je={class:"col-12 col-md-6 mb-4"},Qe=e("label",{class:"form-label",for:"email"},"Correo",-1),Ze=["disabled"],Ke={key:0,class:"invalid-feedback"},es={class:"col-12 col-md-6 mb-4"},ss=e("label",{class:"form-label",for:"phone"},"Teléfono",-1),ts=["disabled"],ls={key:0,class:"invalid-feedback"},os={class:"col-12 mb-4"},as=e("label",{class:"form-label",for:"website"},"Sitio web",-1),is=["disabled"],ns={key:0,class:"invalid-feedback"},ds={class:"mb-4"},cs=e("label",{class:"form-label",for:"address_line1"},"Dirección (línea 1)",-1),rs=["disabled"],us={key:0,class:"invalid-feedback"},_s={class:"mb-4"},vs=e("label",{class:"form-label",for:"address_line2"},"Dirección (línea 2)",-1),ms=["disabled"],bs={key:0,class:"invalid-feedback"},fs={class:"row"},ps={class:"col-12 col-md-6 mb-4"},hs=e("label",{class:"form-label",for:"city"},"Ciudad",-1),ys=["disabled"],gs={key:0,class:"invalid-feedback"},xs={class:"col-12 col-md-6 mb-4"},ks=e("label",{class:"form-label",for:"state"},"Provincia / Estado",-1),ws=["disabled"],Cs={key:0,class:"invalid-feedback"},Us={class:"col-12 col-md-12 mb-4"},Vs=e("label",{class:"form-label",for:"postal_code"},"Código postal",-1),Ss=["disabled"],js={key:0,class:"invalid-feedback"},Bs={class:"mb-2"},Es=e("label",{class:"form-label",for:"country"},"País (texto libre)",-1),Fs=["disabled"],Ns={key:0,class:"invalid-feedback"},Is={class:"row push content"},Ps=e("div",{class:"col-lg-4"},[e("p",{class:"fs-sm text-muted"}," Logo, sello y color que se usarán en tus documentos. ")],-1),Rs={class:"col-lg-8 col-xl-8"},Ms={class:"mb-4"},Ds=e("label",{class:"form-label",for:"logo"},"Logo",-1),Ts={class:"d-flex align-items-center"},Ls={class:"me-3"},zs={class:"border rounded bg-body d-flex align-items-center justify-content-center",style:{width:"96px",height:"96px"}},Ys=["src"],Os={key:1,class:"text-muted small"},As={class:"flex-grow-1"},qs=["disabled"],$s=e("small",{class:"text-muted"},"Formatos recomendados: PNG o SVG.",-1),Xs={key:0,class:"invalid-feedback d-block"},Gs={class:"mb-4"},Ws=e("label",{class:"form-label",for:"stamp"},"Sello / Firma",-1),Hs={class:"d-flex align-items-center"},Js={class:"me-3"},Qs={class:"border rounded bg-body d-flex align-items-center justify-content-center",style:{width:"96px",height:"96px"}},Zs=["src"],Ks={key:1,class:"text-muted small"},et={class:"flex-grow-1"},st=["disabled"],tt=e("small",{class:"text-muted"},"Opcional para sellar facturas.",-1),lt={class:"mt-2 d-flex gap-2 flex-wrap"},ot=["disabled"],at=["disabled"],it={key:0,class:"invalid-feedback d-block"},nt={class:"mb-2"},dt=e("label",{class:"form-label",for:"invoice_footer_note"},"Nota de pie de factura",-1),ct=["disabled"],rt={key:0,class:"invalid-feedback"},ut={class:"row push content"},_t=e("div",{class:"col-lg-4"},[e("p",{class:"fs-sm text-muted"}," Prefijo, numeración y formato para tus facturas. ")],-1),vt={class:"col-lg-8 col-xl-8"},mt={class:"row"},bt={class:"col-12 col-md-6 mb-4"},ft=e("label",{class:"form-label",for:"invoice_prefix"},"Prefijo",-1),pt=["disabled"],ht={key:0,class:"invalid-feedback"},yt={class:"col-12 col-md-6 mb-4"},gt=e("label",{class:"form-label",for:"invoice_next_number"},"Próximo número",-1),xt=["disabled"],kt={key:0,class:"invalid-feedback"},wt={class:"col-12 col-md-6 mb-4"},Ct=e("label",{class:"form-label",for:"invoice_number_format"},"Formato",-1),Ut=["disabled"],Vt={key:0,class:"invalid-feedback"},St={class:"col-12 col-md-6 mb-4"},jt=e("label",{class:"form-label",for:"timezone"},"Zona horaria",-1),Bt=["disabled"],Et={key:0,class:"invalid-feedback"},Ft={class:"col-12 col-md-6 mb-4"},Nt=e("label",{class:"form-label",for:"locale"},"Idioma",-1),It=["disabled"],Pt={key:0,class:"invalid-feedback"},Rt={class:"col-12 col-md-6 mb-2"},Mt=e("label",{class:"form-label",for:"currency"},"Moneda (ISO3)",-1),Dt=["disabled"],Tt={key:0,class:"invalid-feedback"},Lt={class:"row push content"},zt=e("div",{class:"col-lg-4"},[e("p",{class:"fs-sm text-muted"}," Información que aparecerá en tus facturas para cobrar por banco. ")],-1),Yt={class:"col-lg-8 col-xl-8"},Ot={class:"row"},At={class:"col-12 col-md-12 mb-4"},qt=e("label",{class:"form-label",for:"bank_name"},"Banco",-1),$t=["disabled"],Xt={key:0,class:"invalid-feedback"},Gt={class:"col-12 col-md-12 mb-4"},Wt=e("label",{class:"form-label",for:"iban"},"IBAN",-1),Ht=["disabled"],Jt={key:0,class:"invalid-feedback"},Qt={class:"col-12 col-md-12 mb-2"},Zt=e("label",{class:"form-label",for:"swift"},"SWIFT / BIC",-1),Kt=["disabled"],el={key:0,class:"invalid-feedback"},sl={class:"d-flex justify-content-end mt-3 mb-4"},tl=["disabled"],ll={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},ol={key:2,class:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.4)"},tabindex:"-1",role:"dialog"},al={class:"modal-dialog modal-lg modal-dialog-centered",role:"document"},il={class:"modal-content"},nl={class:"modal-header"},dl=e("h5",{class:"modal-title"},"Crear firma",-1),cl={class:"modal-body"},rl=e("p",{class:"text-muted mb-2"},"Dibuja tu firma con el ratón o el dedo.",-1),ul={class:"border rounded bg-body d-flex align-items-center justify-content-center p-2"},_l={class:"modal-footer d-flex justify-content-between"},vl={class:"d-flex gap-2"},pl={__name:"settings",setup(ml){const B=ee({}),E=b(!1),c=b(!1),t=b({}),I=[{key:"identity",label:"Mi empresa",icon:"fa fa-building"},{key:"tax",label:"Datos fiscales",icon:"fa fa-file-invoice-dollar"},{key:"contact",label:"Contacto y dirección",icon:"fa fa-map-marker-alt"},{key:"branding",label:"Branding",icon:"fa fa-palette"},{key:"billing",label:"Facturación",icon:"fa fa-list-ol"},{key:"bank",label:"Datos bancarios",icon:"fa fa-university"}],h=b(I[0].key),o=X({legal_name:"",trade_name:"",industry:"",country_code:"ES",tax_id:"",vat_number:"",registration_number:"",email:"",phone:"",website:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",brand_color:"#0d6efd",invoice_footer_note:"",invoice_prefix:"INV",invoice_next_number:1,invoice_number_format:"{PREFIX}-{YYYY}-{NUMBER}",timezone:"Europe/Madrid",locale:"es",currency:"EUR",bank_name:"",iban:"",swift:""}),U=b(""),g=b(""),V=b(null),x=b(null),w=b(!1),C=b(null),S=b(!1),f=b(null),P=(a={})=>{Object.keys(o).forEach(s=>{a[s]!==void 0&&a[s]!==null&&(o[s]=a[s])}),a.logo_path&&(U.value=a.logo_path),a.stamp_path&&(g.value=a.stamp_path)};G(async()=>{E.value=!0,t.value={};try{const{data:a}=await L.get("/settings"),s=(a==null?void 0:a.settings)??a??{};P(s)}catch{B.error("No se pudieron cargar los ajustes de empresa.")}finally{E.value=!1}});const R=(a,s)=>{const[r]=a.target.files||[];s==="logo"?(V.value=r||null,U.value=r?URL.createObjectURL(r):""):(x.value=r||null,g.value=r?URL.createObjectURL(r):"")},z=()=>{w.value=!0,Z(()=>{const a=C.value;if(!a)return;const s=window.devicePixelRatio||1,r=500,l=200;a.width=r*s,a.height=l*s,a.style.width=`${r}px`,a.style.height=`${l}px`;const p=a.getContext("2d");p.scale(s,s),p.lineWidth=2,p.lineCap="round",p.strokeStyle="#111",f.value=p,p.clearRect(0,0,r,l)})},M=a=>{const s=C.value;if(!s)return{x:0,y:0};const r=s.getBoundingClientRect(),l=a.touches?a.touches[0].clientX:a.clientX,p=a.touches?a.touches[0].clientY:a.clientY;return{x:l-r.left,y:p-r.top}},D=a=>{if(!f.value)return;S.value=!0;const{x:s,y:r}=M(a);f.value.beginPath(),f.value.moveTo(s,r)},T=a=>{if(!S.value||!f.value)return;a.preventDefault();const{x:s,y:r}=M(a);f.value.lineTo(s,r),f.value.stroke()},j=()=>{!S.value||!f.value||(f.value.closePath(),S.value=!1)},Y=()=>{const a=C.value;!a||!f.value||f.value.clearRect(0,0,a.width,a.height)},O=()=>{const a=C.value;a&&a.toBlob(s=>{s&&(x.value=new File([s],"signature.png",{type:"image/png"}),g.value=URL.createObjectURL(s),w.value=!1)})},A=async()=>{var a,s;c.value=!0,t.value={};try{const r=new FormData;r.append("_method","put"),Object.entries(o).forEach(([q,F])=>{const $=F??"";r.append(q,$)}),V.value&&r.append("logo",V.value),x.value&&r.append("stamp",x.value);const{data:l}=await L.post("/settings",r,{headers:{"Content-Type":"multipart/form-data"}});B.success((l==null?void 0:l.message)??"Ajustes guardados correctamente.");const p=(l==null?void 0:l.settings)??{};P(p),V.value=null,x.value=null}catch(r){if(((a=r.response)==null?void 0:a.status)===422){t.value=((s=r.response.data)==null?void 0:s.errors)||{};return}B.error("No se pudieron guardar los ajustes.")}finally{c.value=!1}};return(a,s)=>{const r=K("BaseBlock");return i(),n("div",se,[E.value?(i(),n("div",te,[le,N(" Cargando ajustes... ")])):(i(),n("div",oe,[e("div",ae,[W(r,{class:"h-auto"},{content:y(()=>[e("div",ie,[(i(),n(H,null,J(I,l=>e("button",{key:l.key,type:"button",class:_(["list-group-item list-group-item-action d-flex align-items-center",{active:h.value===l.key}]),onClick:p=>h.value=l.key},[l.icon?(i(),n("i",{key:0,class:_(`${l.icon} me-2`)},null,2)):d("",!0),N(" "+u(l.label),1)],10,ne)),64))])]),_:1})]),e("div",de,[e("form",{onSubmit:Q(A,["prevent"])},[h.value==="identity"?(i(),k(r,{key:0,title:"Identidad de la empresa"},{content:y(()=>[e("div",re,[ue,e("div",_e,[e("div",ve,[me,v(e("input",{id:"legal_name",type:"text",class:_(["form-control",{"is-invalid":t.value.legal_name}]),"onUpdate:modelValue":s[0]||(s[0]=l=>o.legal_name=l),disabled:c.value,required:"",placeholder:"Nombre registrado"},null,10,be),[[m,o.legal_name]]),t.value.legal_name?(i(),n("div",fe,u(t.value.legal_name[0]),1)):d("",!0)]),e("div",pe,[he,v(e("input",{id:"trade_name",type:"text",class:_(["form-control",{"is-invalid":t.value.trade_name}]),"onUpdate:modelValue":s[1]||(s[1]=l=>o.trade_name=l),disabled:c.value,placeholder:"Marca pública (opcional)"},null,10,ye),[[m,o.trade_name]]),t.value.trade_name?(i(),n("div",ge,u(t.value.trade_name[0]),1)):d("",!0)]),e("div",xe,[e("div",ke,[we,v(e("input",{id:"industry",type:"text",class:_(["form-control",{"is-invalid":t.value.industry}]),"onUpdate:modelValue":s[2]||(s[2]=l=>o.industry=l),disabled:c.value,placeholder:"Ej: Software, Retail..."},null,10,Ce),[[m,o.industry]]),t.value.industry?(i(),n("div",Ue,u(t.value.industry[0]),1)):d("",!0)]),e("div",Ve,[Se,v(e("input",{id:"country_code",type:"text",class:_(["form-control",{"is-invalid":t.value.country_code}]),"onUpdate:modelValue":s[3]||(s[3]=l=>o.country_code=l),disabled:c.value,maxlength:"2",placeholder:"ES"},null,10,je),[[m,o.country_code]]),t.value.country_code?(i(),n("div",Be,u(t.value.country_code[0]),1)):d("",!0)])])])])]),_:1})):d("",!0),h.value==="tax"?(i(),k(r,{key:1,title:"Datos fiscales"},{content:y(()=>[e("div",Ee,[Fe,e("div",Ne,[e("div",Ie,[e("div",Pe,[Re,v(e("input",{id:"tax_id",type:"text",class:_(["form-control",{"is-invalid":t.value.tax_id}]),"onUpdate:modelValue":s[4]||(s[4]=l=>o.tax_id=l),disabled:c.value,placeholder:"Identificación fiscal"},null,10,Me),[[m,o.tax_id]]),t.value.tax_id?(i(),n("div",De,u(t.value.tax_id[0]),1)):d("",!0)]),e("div",Te,[Le,v(e("input",{id:"vat_number",type:"text",class:_(["form-control",{"is-invalid":t.value.vat_number}]),"onUpdate:modelValue":s[5]||(s[5]=l=>o.vat_number=l),disabled:c.value,placeholder:"ES00000000"},null,10,ze),[[m,o.vat_number]]),t.value.vat_number?(i(),n("div",Ye,u(t.value.vat_number[0]),1)):d("",!0)]),e("div",Oe,[Ae,v(e("input",{id:"registration_number",type:"text",class:_(["form-control",{"is-invalid":t.value.registration_number}]),"onUpdate:modelValue":s[6]||(s[6]=l=>o.registration_number=l),disabled:c.value,placeholder:"Número de registro"},null,10,qe),[[m,o.registration_number]]),t.value.registration_number?(i(),n("div",$e,u(t.value.registration_number[0]),1)):d("",!0)])])])])]),_:1})):d("",!0),h.value==="contact"?(i(),k(r,{key:2,title:"Contacto y dirección"},{content:y(()=>[e("div",Xe,[Ge,e("div",We,[e("div",He,[e("div",Je,[Qe,v(e("input",{id:"email",type:"email",class:_(["form-control",{"is-invalid":t.value.email}]),"onUpdate:modelValue":s[7]||(s[7]=l=>o.email=l),disabled:c.value,placeholder:"empresa@correo.com"},null,10,Ze),[[m,o.email]]),t.value.email?(i(),n("div",Ke,u(t.value.email[0]),1)):d("",!0)]),e("div",es,[ss,v(e("input",{id:"phone",type:"text",class:_(["form-control",{"is-invalid":t.value.phone}]),"onUpdate:modelValue":s[8]||(s[8]=l=>o.phone=l),disabled:c.value,placeholder:"+34 600 000 000"},null,10,ts),[[m,o.phone]]),t.value.phone?(i(),n("div",ls,u(t.value.phone[0]),1)):d("",!0)]),e("div",os,[as,v(e("input",{id:"website",type:"text",class:_(["form-control",{"is-invalid":t.value.website}]),"onUpdate:modelValue":s[9]||(s[9]=l=>o.website=l),disabled:c.value,placeholder:"https://example.com"},null,10,is),[[m,o.website]]),t.value.website?(i(),n("div",ns,u(t.value.website[0]),1)):d("",!0)])]),e("div",ds,[cs,v(e("input",{id:"address_line1",type:"text",class:_(["form-control",{"is-invalid":t.value.address_line1}]),"onUpdate:modelValue":s[10]||(s[10]=l=>o.address_line1=l),disabled:c.value,placeholder:"Calle y número"},null,10,rs),[[m,o.address_line1]]),t.value.address_line1?(i(),n("div",us,u(t.value.address_line1[0]),1)):d("",!0)]),e("div",_s,[vs,v(e("input",{id:"address_line2",type:"text",class:_(["form-control",{"is-invalid":t.value.address_line2}]),"onUpdate:modelValue":s[11]||(s[11]=l=>o.address_line2=l),disabled:c.value,placeholder:"Portal, piso, escalera (opcional)"},null,10,ms),[[m,o.address_line2]]),t.value.address_line2?(i(),n("div",bs,u(t.value.address_line2[0]),1)):d("",!0)]),e("div",fs,[e("div",ps,[hs,v(e("input",{id:"city",type:"text",class:_(["form-control",{"is-invalid":t.value.city}]),"onUpdate:modelValue":s[12]||(s[12]=l=>o.city=l),disabled:c.value,placeholder:"Barcelona"},null,10,ys),[[m,o.city]]),t.value.city?(i(),n("div",gs,u(t.value.city[0]),1)):d("",!0)]),e("div",xs,[ks,v(e("input",{id:"state",type:"text",class:_(["form-control",{"is-invalid":t.value.state}]),"onUpdate:modelValue":s[13]||(s[13]=l=>o.state=l),disabled:c.value,placeholder:"Barcelona"},null,10,ws),[[m,o.state]]),t.value.state?(i(),n("div",Cs,u(t.value.state[0]),1)):d("",!0)]),e("div",Us,[Vs,v(e("input",{id:"postal_code",type:"text",class:_(["form-control",{"is-invalid":t.value.postal_code}]),"onUpdate:modelValue":s[14]||(s[14]=l=>o.postal_code=l),disabled:c.value,placeholder:"08001"},null,10,Ss),[[m,o.postal_code]]),t.value.postal_code?(i(),n("div",js,u(t.value.postal_code[0]),1)):d("",!0)])]),e("div",Bs,[Es,v(e("input",{id:"country",type:"text",class:_(["form-control",{"is-invalid":t.value.country}]),"onUpdate:modelValue":s[15]||(s[15]=l=>o.country=l),disabled:c.value,placeholder:"España"},null,10,Fs),[[m,o.country]]),t.value.country?(i(),n("div",Ns,u(t.value.country[0]),1)):d("",!0)])])])]),_:1})):d("",!0),h.value==="branding"?(i(),k(r,{key:3,title:"Branding"},{content:y(()=>[e("div",Is,[Ps,e("div",Rs,[e("div",Ms,[Ds,e("div",Ts,[e("div",Ls,[e("div",zs,[U.value?(i(),n("img",{key:0,src:U.value,class:"img-fluid",alt:"Logo",style:{"max-height":"80px"}},null,8,Ys)):(i(),n("span",Os,"Sin logo"))])]),e("div",As,[e("input",{id:"logo",class:"form-control",type:"file",accept:"image/*",onChange:s[16]||(s[16]=l=>R(l,"logo")),disabled:c.value},null,40,qs),$s])]),t.value.logo?(i(),n("div",Xs,u(t.value.logo[0]),1)):d("",!0)]),e("div",Gs,[Ws,e("div",Hs,[e("div",Js,[e("div",Qs,[g.value?(i(),n("img",{key:0,src:g.value,class:"img-fluid",alt:"Sello",style:{"max-height":"80px"}},null,8,Zs)):(i(),n("span",Ks,"Sin sello"))])]),e("div",et,[e("input",{id:"stamp",class:"form-control",type:"file",accept:"image/*",onChange:s[17]||(s[17]=l=>R(l,"stamp")),disabled:c.value},null,40,st),tt,e("div",lt,[e("button",{type:"button",class:"btn btn-sm btn-outline-primary",disabled:c.value,onClick:z}," Crear firma en la app ",8,ot),e("button",{type:"button",class:"btn btn-sm btn-outline-secondary",disabled:c.value,onClick:s[18]||(s[18]=()=>{x.value.value=null,g.value.value=""})}," Quitar firma ",8,at)])])]),t.value.stamp?(i(),n("div",it,u(t.value.stamp[0]),1)):d("",!0)]),e("div",nt,[dt,v(e("textarea",{id:"invoice_footer_note",class:_(["form-control",{"is-invalid":t.value.invoice_footer_note}]),rows:"3","onUpdate:modelValue":s[19]||(s[19]=l=>o.invoice_footer_note=l),disabled:c.value,placeholder:"Mensaje final en las facturas (1000 caracteres máx.)"},null,10,ct),[[m,o.invoice_footer_note]]),t.value.invoice_footer_note?(i(),n("div",rt,u(t.value.invoice_footer_note[0]),1)):d("",!0)])])])]),_:1})):d("",!0),h.value==="billing"?(i(),k(r,{key:4,title:"Facturación por defecto"},{content:y(()=>[e("div",ut,[_t,e("div",vt,[e("div",mt,[e("div",bt,[ft,v(e("input",{id:"invoice_prefix",type:"text",class:_(["form-control",{"is-invalid":t.value.invoice_prefix}]),"onUpdate:modelValue":s[20]||(s[20]=l=>o.invoice_prefix=l),disabled:c.value,maxlength:"20",required:""},null,10,pt),[[m,o.invoice_prefix]]),t.value.invoice_prefix?(i(),n("div",ht,u(t.value.invoice_prefix[0]),1)):d("",!0)]),e("div",yt,[gt,v(e("input",{id:"invoice_next_number",type:"number",min:"1",class:_(["form-control",{"is-invalid":t.value.invoice_next_number}]),"onUpdate:modelValue":s[21]||(s[21]=l=>o.invoice_next_number=l),disabled:c.value,required:""},null,10,xt),[[m,o.invoice_next_number,void 0,{number:!0}]]),t.value.invoice_next_number?(i(),n("div",kt,u(t.value.invoice_next_number[0]),1)):d("",!0)]),e("div",wt,[Ct,v(e("input",{id:"invoice_number_format",type:"text",class:_(["form-control",{"is-invalid":t.value.invoice_number_format}]),"onUpdate:modelValue":s[22]||(s[22]=l=>o.invoice_number_format=l),disabled:c.value,placeholder:"{PREFIX}-{YYYY}-{NUMBER}",required:""},null,10,Ut),[[m,o.invoice_number_format]]),t.value.invoice_number_format?(i(),n("div",Vt,u(t.value.invoice_number_format[0]),1)):d("",!0)]),e("div",St,[jt,v(e("input",{id:"timezone",type:"text",class:_(["form-control",{"is-invalid":t.value.timezone}]),"onUpdate:modelValue":s[23]||(s[23]=l=>o.timezone=l),disabled:c.value,placeholder:"Europe/Madrid"},null,10,Bt),[[m,o.timezone]]),t.value.timezone?(i(),n("div",Et,u(t.value.timezone[0]),1)):d("",!0)]),e("div",Ft,[Nt,v(e("input",{id:"locale",type:"text",class:_(["form-control",{"is-invalid":t.value.locale}]),"onUpdate:modelValue":s[24]||(s[24]=l=>o.locale=l),disabled:c.value,placeholder:"es"},null,10,It),[[m,o.locale]]),t.value.locale?(i(),n("div",Pt,u(t.value.locale[0]),1)):d("",!0)]),e("div",Rt,[Mt,v(e("input",{id:"currency",type:"text",class:_(["form-control",{"is-invalid":t.value.currency}]),"onUpdate:modelValue":s[25]||(s[25]=l=>o.currency=l),disabled:c.value,maxlength:"3",placeholder:"EUR"},null,10,Dt),[[m,o.currency]]),t.value.currency?(i(),n("div",Tt,u(t.value.currency[0]),1)):d("",!0)])])])])]),_:1})):d("",!0),h.value==="bank"?(i(),k(r,{key:5,title:"Datos bancarios"},{content:y(()=>[e("div",Lt,[zt,e("div",Yt,[e("div",Ot,[e("div",At,[qt,v(e("input",{id:"bank_name",type:"text",class:_(["form-control",{"is-invalid":t.value.bank_name}]),"onUpdate:modelValue":s[26]||(s[26]=l=>o.bank_name=l),disabled:c.value,placeholder:"Nombre del banco"},null,10,$t),[[m,o.bank_name]]),t.value.bank_name?(i(),n("div",Xt,u(t.value.bank_name[0]),1)):d("",!0)]),e("div",Gt,[Wt,v(e("input",{id:"iban",type:"text",class:_(["form-control",{"is-invalid":t.value.iban}]),"onUpdate:modelValue":s[27]||(s[27]=l=>o.iban=l),disabled:c.value,placeholder:"ES00 0000 0000 0000 0000 0000"},null,10,Ht),[[m,o.iban]]),t.value.iban?(i(),n("div",Jt,u(t.value.iban[0]),1)):d("",!0)]),e("div",Qt,[Zt,v(e("input",{id:"swift",type:"text",class:_(["form-control",{"is-invalid":t.value.swift}]),"onUpdate:modelValue":s[28]||(s[28]=l=>o.swift=l),disabled:c.value,placeholder:"ABCDEFGH"},null,10,Kt),[[m,o.swift]]),t.value.swift?(i(),n("div",el,u(t.value.swift[0]),1)):d("",!0)])])])])]),_:1})):d("",!0),e("div",sl,[e("button",{type:"submit",class:"btn btn-alt-primary",disabled:c.value},[c.value?(i(),n("span",ll)):d("",!0),N(" Guardar cambios ")],8,tl)])],40,ce)])])),w.value?(i(),n("div",ol,[e("div",al,[e("div",il,[e("div",nl,[dl,e("button",{type:"button",class:"btn-close",onClick:s[29]||(s[29]=l=>w.value=!1)})]),e("div",cl,[rl,e("div",ul,[e("canvas",{ref_key:"signatureCanvas",ref:C,style:{width:"100%",height:"200px","touch-action":"none"},onMousedown:D,onMousemove:T,onMouseup:j,onMouseleave:j,onTouchstart:D,onTouchmove:T,onTouchend:j,onTouchcancel:j},null,544)])]),e("div",_l,[e("div",null,[e("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:Y}," Limpiar ")]),e("div",vl,[e("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[30]||(s[30]=l=>w.value=!1)}," Cancelar "),e("button",{type:"button",class:"btn btn-primary",onClick:O}," Usar esta firma ")])])])])])):d("",!0)])}}};export{pl as default};
