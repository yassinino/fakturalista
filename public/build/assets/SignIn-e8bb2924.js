import{u as V,r as C,e as I,f as L,g as S,o as c,c as d,b as s,h as v,w as m,d as _,t as u,i as p,j as N,k as h,v as f,n as g,l as t,m as w,p as q,q as b,s as R,x}from"./main-e01f9188.js";const M={class:"hero-static d-flex align-items-center"},T={class:"content"},U={class:"row justify-content-center push"},j={class:"col-md-8 col-lg-6 col-xl-4"},D={class:"p-sm-3 px-lg-4 px-xxl-5 py-lg-5"},z=s("h1",{class:"h2 mb-1"},"Fakturalista",-1),E={key:0,class:"alert alert-danger",role:"alert"},F=["onSubmit"],O={class:"py-3"},A={class:"mb-4"},G={key:0,class:"invalid-feedback animated fadeIn"},H={class:"mb-4"},J={key:0,class:"invalid-feedback animated fadeIn"},K=s("div",{class:"row mb-4"},[s("div",{class:"col-md-6 col-xl-12"},[s("button",{type:"submit",class:"btn btn-block btn-alt-primary"},[s("i",{class:"fa fa-fw fa-sign-in-alt me-1 opacity-50"}),_(" Iniciar sesión ")])])],-1),P={class:"fs-sm text-muted text-center"},X={__name:"SignIn",setup(Q){const i=V(),l=C(""),n=I({email:null,password:null}),k=L(()=>({email:{required:w,email:q,minLength:b(3)},password:{required:w,minLength:b(5)}})),o=S(k,n);async function y(){await o.value.$validate()&&(l.value="",R.post("/login",n).then(e=>{i.loginUser(e.data.data),window.location.href="/admin/customers"}).catch(e=>{var r;if(((r=e.response)==null?void 0:r.status)===401){l.value="Las credenciales no son correctas.";return}l.value="No se pudo iniciar sesión. Inténtalo nuevamente."}))}return($,e)=>{const r=x("RouterLink"),B=x("BaseBlock");return c(),d("div",M,[s("div",T,[s("div",U,[s("div",j,[v(B,{title:"Iniciar sesión",class:"mb-0"},{options:m(()=>[v(r,{to:{name:"auth-signin"},class:"btn-block-option fs-sm"},{default:m(()=>[_("¿Olvidaste tu contraseña?")]),_:1})]),default:m(()=>[s("div",D,[z,l.value?(c(),d("div",E,u(l.value),1)):p("",!0),s("form",{onSubmit:N(y,["prevent"])},[s("div",O,[s("div",A,[h(s("input",{type:"text",class:g(["form-control form-control-alt form-control-lg",{"is-invalid":t(o).email.$errors.length}]),id:"login-email",name:"login-email",placeholder:"Correo electrónico","onUpdate:modelValue":e[0]||(e[0]=a=>n.email=a),onBlur:e[1]||(e[1]=(...a)=>t(o).email.$touch&&t(o).email.$touch(...a))},null,34),[[f,n.email]]),t(o).email.$errors.length?(c(),d("div",G," Requerido ")):p("",!0)]),s("div",H,[h(s("input",{type:"password",class:g(["form-control form-control-alt form-control-lg",{"is-invalid":t(o).password.$errors.length}]),id:"login-password",name:"login-password",placeholder:"Contraseña","onUpdate:modelValue":e[2]||(e[2]=a=>n.password=a),onBlur:e[3]||(e[3]=(...a)=>t(o).password.$touch&&t(o).password.$touch(...a))},null,34),[[f,n.password]]),t(o).password.$errors.length?(c(),d("div",J," Requerido ")):p("",!0)])]),K],40,F)])]),_:1})])]),s("div",P,[s("strong",null,u(t(i).app.name+" "+t(i).app.version),1),_(" © "+u(t(i).app.copyright),1)])])])}}};export{X as default};
