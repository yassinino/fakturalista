import{r as k,y as v,s as p,o as i,c as r,h as c,w as a,b as e,d as _,F as w,A as x,x as u,k as g,B as y,t as d,j as C}from"./main-eaddb9f9.js";const B={class:"content"},N={class:"block-options-item"},V={class:"table table-vcenter"},E={class:"text-center"},A=e("th",{class:"d-none d-sm-table-cell"}," Nombre ",-1),D=e("th",{class:"d-none d-sm-table-cell"}," Dirección ",-1),M=e("th",{class:"d-none d-sm-table-cell"}," Correo electrónico ",-1),T=e("th",{class:"d-none d-sm-table-cell"}," Teléfono ",-1),j=e("th",{class:"d-none d-sm-table-cell"}," Número de cliente ",-1),F=e("th",{class:"text-center",style:{width:"100px"}},"Actions",-1),U={class:"text-center",scope:"row"},q=["onUpdate:modelValue"],L={class:"d-none d-sm-table-cell"},S={class:"d-none d-sm-table-cell"},$={class:"d-none d-sm-table-cell"},z={class:"d-none d-sm-table-cell"},G={class:"d-none d-sm-table-cell"},H={class:"text-center"},I={class:"dropdown dropstart push"},J=e("button",{type:"button",class:"btn btn-outline-primary dropdown-toggle",id:"dropdown-dropleft-dark","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("i",{class:"fa fa-fw fa-ellipsis-v"})],-1),K={class:"dropdown-menu fs-sm","aria-labelledby":"dropdown-dropleft-dark"},O=["onClick"],R={__name:"index",setup(P){const o=k([]);v(async()=>{let s=await p.get("/customers");o.value=s.data.customers});const m=s=>{confirm("¿Estás seguro de que deseas eliminar este cliente?")&&p.delete("/customers/"+s.uuid).then(n=>{o.value=o.value.filter(l=>l.uuid!==s.uuid)}).catch(n=>{console.error("There was an error!",n)})},b=s=>{o.value=o.value.map(n=>(n.checked=s,n))};return(s,n)=>{const l=u("router-link"),f=u("BaseBlock");return i(),r("div",B,[c(f,{title:"Clientes"},{options:a(()=>[e("div",N,[c(l,{to:"customers/new",class:"btn btn-primary"},{default:a(()=>[_("Nuevo cliente")]),_:1})])]),default:a(()=>[e("table",V,[e("thead",null,[e("tr",null,[e("th",E,[e("input",{type:"checkbox",class:"form-check-input",onChange:b},null,32)]),A,D,M,T,j,F])]),e("tbody",null,[(i(!0),r(w,null,x(o.value,t=>(i(),r("tr",{key:t.id},[e("th",U,[g(e("input",{type:"checkbox",name:"",class:"form-check-input","onUpdate:modelValue":h=>t.checked=h},null,8,q),[[y,t.checked]])]),e("td",L,[c(l,{to:"customers/"+t.uuid},{default:a(()=>[_(d(t.name),1)]),_:2},1032,["to"])]),e("td",S,d(t.address_billing),1),e("td",$,d(t.email),1),e("td",z,d(t.phone),1),e("td",G,d(t.reference),1),e("td",H,[e("div",I,[J,e("div",K,[c(l,{class:"dropdown-item danger",to:"customers/edit/"+t.uuid},{default:a(()=>[_("Editar")]),_:2},1032,["to"]),e("a",{class:"dropdown-item danger",href:"javascript:void(0)",onClick:C(h=>m(t),["prevent"])},"Eliminar",8,O)])])])]))),128))])])]),_:1})])}}};export{R as default};
