import{e as $,r as N,y as U,s as _,f as B,g as C,o as d,c as r,b as e,h as q,w as f,k as l,C as v,l as n,v as i,n as b,i as c,D as S,F as D,A as F,j as I,d as y,z as M,E as u,q as h,m as E,G as L,x as A,t as R,H as P}from"./main-59537e72.js";const T={class:"content"},z=["onSubmit"],G={class:"row"},j=e("div",{class:"col-lg-3"},[e("p",{class:"fs-sm text-muted"}," Descripción general ")],-1),H={class:"col-lg-9"},W={class:"row items-push"},J={class:"col-md-6"},K={class:"form-check form-block"},O=e("label",{class:"form-check-label",for:"type1"},[e("span",{class:"d-block p-1 fw-normal text-center my-1"},[e("span",{class:"fs-4 fw-semibold"},"Empresa")])],-1),Q={class:"col-md-6"},X={class:"form-check form-block"},Y=e("label",{class:"form-check-label",for:"type2"},[e("span",{class:"d-block p-1 fw-normal text-center my-1"},[e("span",{class:"fs-4 fw-semibold"},"Individual")])],-1),Z={key:0,class:"form-floating mb-4"},ee={key:0,class:"invalid-feedback animated fadeIn"},te=e("label",{for:"val-name"},[y("Nombre de empresa"),e("span",{class:"text-danger"},"*")],-1),oe={key:1,class:"row g-3"},se={class:"form-floating col-4 mb-4"},le=e("label",{for:"val-first-name"},"Nombre",-1),ae={class:"form-floating col-4 mb-4"},ne={key:0,class:"invalid-feedback animated fadeIn"},ie=e("label",{for:"val-last-name"},[y("Apellido"),e("span",{class:"text-danger"},"*")],-1),de={class:"form-floating col-4 mb-4"},re=e("label",{for:"val-middle-name"},"Segundo nombre",-1),ce={class:"form-floating mb-4"},me=e("label",{for:"val-email"},"Correo electrónico",-1),ue={class:"row g-3"},pe={class:"form-floating col-6 mb-4"},_e=e("label",{for:"val-phone-name"},"Teléfono",-1),fe={class:"form-floating col-6 mb-4"},ve=e("label",{for:"val-website"},"Sitio web",-1),be={class:"form-floating mb-4"},he=e("label",{for:"val-email"},"NIF",-1),ye=e("hr",null,null,-1),ge={class:"row"},xe=e("div",{class:"col-lg-3"},[e("p",{class:"fs-sm text-muted"}," Dirección ")],-1),we={class:"col-lg-9"},ke={class:"form-floating mb-4"},Ve=e("label",{for:"val-billing-address"},"Dirección",-1),$e={class:"row g-3"},Ne={class:"form-floating col-6 mb-4"},Ue=e("label",{for:"val-city"},"Ciudad",-1),Be={class:"form-floating col-6 mb-4"},Ce=e("label",{for:"val-post-code"},"Código postal",-1),qe={class:"row g-3"},Se={class:"form-floating col-6 mb-4"},De=e("option",{selected:""},"Seleccione una opción",-1),Fe=["value"],Ie=e("label",{for:"example-select-floating"},"País",-1),Me=e("hr",null,null,-1),Ee=e("button",{type:"submit",class:"btn btn-lg btn-primary mb-3"},"Guardar",-1),Re={__name:"create",setup(Le){const g=P({}),x=M(),s=$({type:1,name:null,email:null,first_name:null,last_name:null,middle_name:null,phone_number:null,website:null,is_same_address:!0,contacts:[]}),p=N();U(async()=>{let m=await _.get("/countries");p.value=m.data.countries});const w=B(()=>({name:{required:u(function(){return s.type==1}),minLength:h(3)},last_name:{required:u(function(){return s.type==2}),minLength:h(3)},type:{required:E},contacts:{$each:L.forEach({last_name:{required:u(function(){return s.contacts.length>0})}})}})),a=C(w,s);async function k(){await a.value.$validate()&&_.post("/customers",s).then(t=>{g.success(t.data.message),x.push("/admin/customers")})}return(m,t)=>{const V=A("BaseBlock");return d(),r("div",T,[e("form",{onSubmit:I(k,["prevent"])},[q(V,{title:"Nuevo cliente","content-full":""},{footer:f(()=>[Ee]),default:f(()=>[e("div",G,[j,e("div",H,[e("div",W,[e("div",J,[e("div",K,[l(e("input",{type:"radio",class:"form-check-input",id:"type1",name:"type",value:"1","onUpdate:modelValue":t[0]||(t[0]=o=>s.type=o),onBlur:t[1]||(t[1]=(...o)=>n(a).type.$touch&&n(a).type.$touch(...o))},null,544),[[v,s.type]]),O])]),e("div",Q,[e("div",X,[l(e("input",{type:"radio",class:"form-check-input",id:"type2",name:"type",value:"2","onUpdate:modelValue":t[2]||(t[2]=o=>s.type=o),onBlur:t[3]||(t[3]=(...o)=>n(a).type.$touch&&n(a).type.$touch(...o))},null,544),[[v,s.type]]),Y])])]),s.type==1?(d(),r("div",Z,[l(e("input",{type:"text",id:"val-name",class:b(["form-control",{"is-invalid":n(a).name.$errors.length}]),"onUpdate:modelValue":t[4]||(t[4]=o=>s.name=o),onBlur:t[5]||(t[5]=(...o)=>n(a).name.$touch&&n(a).name.$touch(...o)),placeholder:"Company Name"},null,34),[[i,s.name]]),n(a).name.$errors.length?(d(),r("div",ee," Requerida ")):c("",!0),te])):c("",!0),s.type==2?(d(),r("div",oe,[e("div",se,[l(e("input",{type:"text",id:"val-first-name",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=o=>s.first_name=o),placeholder:"First Name"},null,512),[[i,s.first_name]]),le]),e("div",ae,[l(e("input",{type:"text",id:"val-first-name",class:b(["form-control",{"is-invalid":n(a).last_name.$errors.length}]),"onUpdate:modelValue":t[7]||(t[7]=o=>s.last_name=o),onBlur:t[8]||(t[8]=(...o)=>n(a).last_name.$touch&&n(a).last_name.$touch(...o)),placeholder:"Last Name"},null,34),[[i,s.last_name]]),n(a).last_name.$errors.length?(d(),r("div",ne," Requerida ")):c("",!0),ie]),e("div",de,[l(e("input",{type:"text",id:"val-middle-name",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=o=>s.middle_name=o),placeholder:"Middle Name"},null,512),[[i,s.middle_name]]),re])])):c("",!0),e("div",ce,[l(e("input",{type:"text",id:"val-email",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=o=>s.email=o),placeholder:"Email"},null,512),[[i,s.email]]),me]),e("div",ue,[e("div",pe,[l(e("input",{type:"text",id:"val-phone-name",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=o=>s.phone=o),placeholder:"Phone Name"},null,512),[[i,s.phone]]),_e]),e("div",fe,[l(e("input",{type:"text",id:"val-website",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=o=>s.website=o),placeholder:"Website"},null,512),[[i,s.website]]),ve])]),e("div",be,[l(e("input",{type:"text",id:"val-ice",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=o=>s.ice=o),placeholder:"NIF"},null,512),[[i,s.ice]]),he])])]),ye,e("div",ge,[xe,e("div",we,[e("div",ke,[l(e("input",{type:"text",id:"val-billing-address",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=o=>s.address_billing=o),placeholder:"Billing Address"},null,512),[[i,s.address_billing]]),Ve]),e("div",$e,[e("div",Ne,[l(e("input",{type:"text",id:"val-city",class:"form-control","onUpdate:modelValue":t[15]||(t[15]=o=>s.city=o),placeholder:"City"},null,512),[[i,s.city]]),Ue]),e("div",Be,[l(e("input",{type:"text",id:"val-post-code",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=o=>s.post_code=o),placeholder:"Post Code"},null,512),[[i,s.post_code]]),Ce])]),e("div",qe,[e("div",Se,[l(e("select",{class:"form-select",id:"example-select-floating",name:"example-select-floating","onUpdate:modelValue":t[17]||(t[17]=o=>s.billing_country_id=o),"aria-label":"Floating label select example"},[De,(d(!0),r(D,null,F(p.value,o=>(d(),r("option",{value:o.id},R(o.name),9,Fe))),256))],512),[[S,s.billing_country_id]]),Ie])])])]),Me]),_:1})],40,z)])}}};export{Re as default};
