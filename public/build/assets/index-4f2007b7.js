import{z as v,B as k,x as m,o as i,c as r,j as d,d as l,a as e,e as _,I as w,K as x,r as u,w as g,L as y,t as c,k as B}from"./main-20ed3d01.js";const C={class:"content"},N={class:"block-options-item"},V={class:"table table-vcenter"},E={class:"text-center"},P=e("th",{class:"d-none d-sm-table-cell"}," Nombre ",-1),D=e("th",{class:"d-none d-sm-table-cell"}," Descripción ",-1),M=e("th",{class:"d-none d-sm-table-cell"}," Referencia ",-1),$=e("th",{class:"d-none d-sm-table-cell"}," Precio de venta ",-1),j=e("th",{class:"d-none d-sm-table-cell"}," Precio de compra ",-1),A=e("th",{class:"text-center",style:{width:"100px"}},"Acciones",-1),L={class:"text-center",scope:"row"},S=["onUpdate:modelValue"],T={class:"d-none d-sm-table-cell"},U={class:"d-none d-sm-table-cell"},q={class:"d-none d-sm-table-cell"},z={class:"d-none d-sm-table-cell"},F={class:"d-none d-sm-table-cell"},I={class:"text-center"},K={class:"dropdown dropstart push"},R=e("button",{type:"button",class:"btn btn-outline-primary dropdown-toggle",id:"dropdown-dropleft-dark","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("i",{class:"fa fa-fw fa-ellipsis-v"})],-1),G={class:"dropdown-menu fs-sm","aria-labelledby":"dropdown-dropleft-dark"},H=["onClick"],Q={__name:"index",setup(J){const o=v([]);k(async()=>{let s=await m.get("/items");o.value=s.data.items});const p=s=>{confirm("¿Estás seguro de que deseas eliminar este producto o servicio?")&&m.delete("/items/"+s.uuid).then(n=>{o.value=o.value.filter(a=>a.uuid!==s.uuid)}).catch(n=>{console.error("There was an error deleting the item!",n)})},b=s=>{o.value=o.value.map(n=>(n.checked=s,n))};return(s,n)=>{const a=u("router-link"),f=u("BaseBlock");return i(),r("div",C,[d(f,{title:"Productos o Servicios"},{options:l(()=>[e("div",N,[d(a,{to:"items/new",class:"btn btn-primary"},{default:l(()=>[_("Nuevo producto o servicio")]),_:1})])]),default:l(()=>[e("table",V,[e("thead",null,[e("tr",null,[e("th",E,[e("input",{type:"checkbox",class:"form-check-input",onChange:b},null,32)]),P,D,M,$,j,A])]),e("tbody",null,[(i(!0),r(w,null,x(o.value,t=>(i(),r("tr",{key:t.id},[e("th",L,[g(e("input",{type:"checkbox",name:"",class:"form-check-input","onUpdate:modelValue":h=>t.checked=h},null,8,S),[[y,t.checked]])]),e("td",T,[d(a,{to:"items/edit/"+t.uuid},{default:l(()=>[_(c(t.name),1)]),_:2},1032,["to"])]),e("td",U,c(t.description),1),e("td",q,c(t.reference),1),e("td",z,c(s.$toComma(t.sales_price)),1),e("td",F,c(s.$toComma(t.purchase_price)),1),e("td",I,[e("div",K,[R,e("div",G,[d(a,{class:"dropdown-item danger",to:"items/edit/"+t.uuid},{default:l(()=>[_("Editar")]),_:2},1032,["to"]),e("a",{class:"dropdown-item danger",href:"javascript:void(0)",onClick:B(h=>p(t),["prevent"])},"Eliminar",8,H)])])])]))),128))])])]),_:1})])}}};export{Q as default};
